
$(window).load(function () {

	var b = $('[_height=auto]');
	
	    if (b.length <= 0) 
	    {
	    	console.log('cannot find auto height target');
	    	return false;
	    	
	    }
	    var c = $(this),
	        $body = $('body'),
	        $none = $('[none=true]'),
	        autoInnerHeight = b.height(),
	        autoDivHeight = b.outerHeight(true),
	        autoDivBorder = autoDivHeight - autoInnerHeight,
	        delBodyMargin = parseInt($body.css('marginTop')) + parseInt($body.css('marginBottom')),
	        none = $none.outerHeight(true) - $none.height(),
	        delHeight = 0;
	    $('[_height=none]').each(function () {
	        delHeight += $(this).outerHeight(true)
	    });
	
	    function fullHeight() {
	        var a = c.height() - delHeight - delBodyMargin - autoDivBorder - none;
	
	        if (a > autoInnerHeight) {
	            b.height(a)
	        }
	    }
	    c.resize(function () {
	        fullHeight();
	        
	    });


    fullHeight();
});